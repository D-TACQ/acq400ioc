record(longout, "${UUT}:0:SIG:CLK_MB:SET") {
	field(DTYP, "Soft Channel")
	field(DESC, "MB CLK setpoint")
	field(EGU,  "Hz")
	field(LOPR, "1000000")
	field(HOPR, "100000000")	
	field(FLNK, "${UUT}:0:SIG:CLK_MB:w")
}

record(longout, "${UUT}:0:SIG:CLK_MB:FIN") {
	field(DTYP, "Soft Channel")
	field(DESC, "best input frequency for MB_CLK if set")
	field(EGU,  "Hz")
	field(LOPR, "1000000")
	field(HOPR, "100000000")	
}
record(calcout, "${UUT}:0:SIG:CLK_MB:w") {
	field(INPA, "${UUT}:0:SIG:CLK_MB:SET")
	field(INPB, "${UUT}:0:SIG:CLK_EXT:FREQ") # FREQ is NOT reliable!
	field(INPC, "${UUT}:0:SIG:CLK_MB:FIN")	 # USER OVERRIDE	
	field(INPE, "${UUT}:0:SIG:ZCLK_SRC")
	field(INPF, "${UUT}:SYS:CLK:FPMUX")	
	field(INPJ, "1000000")			# J: FIN VALID
	field(INPK, "32768000")			# K: XCLK
	field(INPL, "33333000")			# L: ZCLK
	field(CALC, "C>J? C: F==1? K: F==3&&E==0?L: B")
	field(DTYP, "stream")
	field(DOPT, "Use CALC")
	field(OOPT, "When Non-zero")
	field(OUT,  "@mb.proto setMB_Hz() ${SPORT}")
}

record(bi, "${UUT}:0:SIG:CLK_MB:READY") {
	field(DTYP, "Soft Channel")
	field(VAL,  "0")
	field(PINI, "YES")
	field(ONAM, "1")
	field(ZNAM, "0")
}

record(longin, "${UUT}:0:DISTRIBUTOR") {
	field(DTYP,  "stream")
	field(INP,   "@mgt400.proto getDistributor ${SPORT}")	
	field(SCAN,  "1 second")
	field(DESC,  "0-> DISABLED")
	field(FLNK,  "${UUT}:0:DISTRIBUTOR:SITES")
}

record(stringin, "${UUT}:0:DISTRIBUTOR:SITES") {
	field(DTYP,  "stream")
	field(INP,   "@mgt400.proto getDistributorSites ${SPORT}")
	field(SCAN,  "I/O Intr")	
	field(FLNK,  "${UUT}:0:DISTRIBUTOR:ON")
}

record(bi, "${UUT}:0:DISTRIBUTOR:ON") {
	field(DTYP,  "stream")
	field(INP,   "@mgt400.proto getDistributorEn ${SPORT}")
	field(SCAN,  "I/O Intr")	
}

record(mbbi, "${UUT}:0:DISTRIBUTOR:COMMS") {
	field(DTYP,  "stream")
	field(INP,   "@mgt400.proto getDistributorComms ${SPORT}")
	field(SCAN,  "I/O Intr")
	field(NOBT,  "4")
	field(ZRST,  "CPU")
	field(ONST,  "COMMSB")
	field(TWST,  "COMMSA")
	field(THST,  "CPU")
}
