

record (bo, "${UUT}:${SITE}:DIO:ENABLE")	{
	field(DESC, "Enable DIO")
	field(DTYP, "Soft Channel")
	field(ZNAM, "disabled")
	field(ONAM, "enabled")
	field(VAL,  "1")
	field(PINI, "YES")
	field(FLNK, "${UUT}:${SITE}:DIO:ENABLE:w PP")
}

record (bo, "${UUT}:${SITE}:DIO:ENABLE:w")	{
	field(DTYP, "stream")
	field(OUT,  "@ppw.proto set_dioEn() ${SPORT}")
	field(DISV, "1")
	field(SDIS, "${UUT}:${SITE}:DIO:ENABLE:s.PACT")
	field(OMSL, "closed_loop")
	field(DOL, "${UUT}:${SITE}:DIO:ENABLE PP")
	field(FLNK, "${UUT}:${SITE}:ppw_led_clear")
}

record (bi, "${UUT}:${SITE}:DIO:ENABLE:r") {
	field(DTYP, "stream")
	field(INP,  "@ppw.proto get_dioEn() ${SPORT}")
	field(SCAN, "1 second")
	field(PINI, "YES")
	field(FLNK, "${UUT}:${SITE}:DIO:ENABLE:s")
}

record (bo, "${UUT}:${SITE}:DIO:ENABLE:s") {
	field(DTYP, "Soft Channel")
	field(OMSL, "closed_loop")
	field(DOL, "${UUT}:${SITE}:DIO:ENABLE:r NPP")
	field(OUT, "${UUT}:${SITE}:DIO:ENABLE PP")
	field(FLNK, "${UUT}:${SITE}:DIO:ENABLE:c")
}


record(calcout, "${UUT}:${SITE}:DIO:ENABLE:c") {
	field(INPA, "${UUT}:${SITE}:DIO:ENABLE")
	field(CALC, "A")
	field(OUT, "${UUT}:${SITE}:DIO:ENABLE:clr PP")
	field(DOPT, "Use OCAL")
	field(OOPT, "Transition To Zero")
	field(OCAL, "!A")
}

record(bo, "${UUT}:${SITE}:DIO:ENABLE:clr") {
	field(DTYP, "Soft Channel")
	field(FLNK, "${UUT}:${SITE}:DIO:ENABLE:fan")
}
record(dfanout, "${UUT}:${SITE}:DIO:ENABLE:fan") {
	field(DOL,  "${UUT}:${SITE}:DIO:ENABLE")
	field(OMSL, "supervisory")
	field(OUTA, "${UUT}:${SITE}:SIG:PULSE1:RESET PP")
	field(OUTB, "${UUT}:${SITE}:SIG:PULSE2:RESET PP")
	field(OUTC, "${UUT}:${SITE}:SIG:PULSE3:RESET PP")
	field(OUTD, "${UUT}:${SITE}:SIG:PULSE4:RESET PP")
	field(OUTE, "${UUT}:${SITE}:SIG:PULSE5:RESET PP")
	field(OUTF, "${UUT}:${SITE}:SIG:PULSE6:RESET PP")
}

# Clkdiv with external clock - go direct.

record (longout, "${UUT}:${SITE}:CLKDIV") {
	field(DTYP, "Soft Channel")
	field(FLNK, "${UUT}:${SITE}:clkdiv:e PP")
	field(LOPR, "1")
	field(HOPR, "${MAXDIV}")
	field(DRVL, "1")
	field(DRVH, "${MAXDIV}")
	field(VAL,  "1")
	field(PINI, "YES")
}

record (longout, "${UUT}:${SITE}:clkdiv:e") {
	field(DTYP, "longoutAcqHost")
	field(DOL,  "${UUT}:${SITE}:CLKDIV")
	field(OUT, "@/dev/acq400.${SITE}.knobs/clkdiv")
	field(OMSL, "closed_loop")
}

