record (longin, "${UUT}:${SITE}:AWG:LENGTH") {
    field(DTYP, "stream")
    field(INP, "@awg.proto getML(${UUT}:${SITE}:AWG:MODE) ${SPORT}")
    field(SCAN, "2 second")
    field(DESC, "AWG waveform length in samples")
    field(PINI, "YES")
}

record (longin, "${UUT}:${SITE}:AWG:CURSOR") {
	field(DTYP, "stream")
	field(INP, "@awg.proto getCursor ${SPORT}")
	field(DESC, "AWG current playback position")
	field(SCAN, ".2 second")
	field(FLNK, "${UUT}:${SITE}:AWG:CURSOR:PCT")
}

record(calc, "${UUT}:${SITE}:AWG:CURSOR:PCT") {
    field(INPA, "${UUT}:${SITE}:AWG:CURSOR")
    field(INPB, "${UUT}:${SITE}:AWG:LENGTH")
    field(CALC, "A/B*100")
    field(LOPR, "0")
    field(HOPR, "100")   
}
record (longin, "${UUT}:${SITE}:AWG:REPS") {
	field(DTYP, "stream")
	field(INP, "@awg.proto getReps ${SPORT}")
	field(DESC, "AWG number of cycles")
	field(SCAN, "1 second")	
}
record (longin, "${UUT}:${SITE}:AWG:ACTIVE") {
	field(DTYP, "stream")
	field(INP, "@awg.proto getActive ${SPORT}")
	field(DESC, "AWG is active")
	field(SCAN, "1 second")	
}
record (mbbi, "${UUT}:${SITE}:AWG:MODE") {
	field(DTYP, "Soft Channel")
	field(ZRST, "continuous")
	field(ONST, "oneshot")
	field(TWST, "oneshot_rearm")
	field(DESC, "AWG operating mode")
	field(NOBT, "2")	
}

