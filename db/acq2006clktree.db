
record (mbbo, "${UUT}:SYS:CLK:FPMUX") {
	field(DTYP, "Soft Channel")
	field(NOBT, "2")
	field(ZRST, "OFF")
	field(ONST, "XCLK")
	field(TWST, "FPCLK")
	field(THST, "ZCLK")
	field(FLNK, "${UUT}:SYS:CLK:fpclk0")	
	field(PINI, "YES")
}

record (mbbi, "${UUT}:SYS:CLK:FPMUX:r") {
	field(DTYP, "mbbiAcqHost")
	field(NOBT, "2")
	field(INP,  "@/dev/shm/platform/clk/FPMUX")
	field(SCAN, "1 second")
	field(PINI, "YES")
	field(FLNK, "${UUT}:SYS:CLK:FPMUX:s")	
}

record (mbbo, "${UUT}:SYS:CLK:FPMUX:s") {
	field(DTYP,  "Soft Channel")
	field(NOBT,  "2")
	field(OMSL,  "closed_loop")
	field(DOL,   "${UUT}:SYS:CLK:FPMUX:r NPP")
	field(OUT,   "${UUT}:SYS:CLK:FPMUX")
}

# break before make .. 
record (calcout, "${UUT}:SYS:CLK:fpclk0") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==2")
	field(OUT, "${UUT}:SYS:CLK:_FP_CLK_OE PP")
	field(OOPT, "When Zero")
	field(FLNK, "${UUT}:SYS:CLK:xclk0")	
	field(DISV, "1")
	field(SDIS, "${UUT}:SYS:CLK:FPMUX:r.PACT")
}

record (calcout, "${UUT}:SYS:CLK:xclk0") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==1")
	field(OUT, "${UUT}:SYS:CLK:_OSC_X_CLK_OE PP")
	field(OOPT, "When Zero")
	field(FLNK, "${UUT}:SYS:CLK:zclk0")	
}

record (calcout, "${UUT}:SYS:CLK:zclk0") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==3")
	field(OUT, "${UUT}:SYS:CLK:_ZCLK_OE PP")
	field(OOPT, "When Zero")
	field(FLNK, "${UUT}:SYS:CLK:fpclk")	
}
# make
record (calcout, "${UUT}:SYS:CLK:fpclk") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==2")
	field(OUT, "${UUT}:SYS:CLK:_FP_CLK_OE PP")
	field(OOPT, "Transition To Non-zero")
	field(FLNK, "${UUT}:SYS:CLK:xclk")		
}

record (calcout, "${UUT}:SYS:CLK:xclk") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==1")	
	field(OUT, "${UUT}:SYS:CLK:_OSC_X_CLK_OE PP")
	field(OOPT, "Transition To Non-zero")
	field(FLNK, "${UUT}:SYS:CLK:zclk")			
}

record (calcout, "${UUT}:SYS:CLK:zclk") {
	field(INPA, "${UUT}:SYS:CLK:FPMUX")
	field(CALC, "A==3")	
	field(OUT, "${UUT}:SYS:CLK:_ZCLK_OE PP")
	field(OOPT, "Transition To Non-zero")
	field(FLNK, "${UUT}:SYS:CLK:_FP_OE")			
}

record (bo, "${UUT}:SYS:CLK:_FP_CLK_OE") {
	field(DTYP, "boAcqHost")
	field(OUT, "@/dev/gpio/CLK/FP_CLK_OE")
	
}

record (bo, "${UUT}:SYS:CLK:_FP_OE") {
	field(DTYP, "boAcqHost")
	field(OUT, "@/dev/gpio/CLK/FP_OE")
	field(OMSL, "closed_loop")
	field(DOL,  "${UUT}:SYS:CLK:fpclk")
	field(FLNK, "${UUT}:SYS:CLK:_OSC_X_OE")			
}

record (bo, "${UUT}:SYS:CLK:_OSC_X_CLK_OE") {
	field(DTYP, "boAcqHost")
	field(OUT, "@/dev/gpio/CLK/OSC_X_CLK_OE")
		
}

record (bo, "${UUT}:SYS:CLK:_OSC_X_OE") {
	field(DTYP, "boAcqHost")
	field(OUT, "@/dev/gpio/CLK/OSC_X_OE")
	field(OMSL, "closed_loop")
	field(DOL,  "${UUT}:SYS:CLK:xclk")		
}

record (bo, "${UUT}:SYS:CL:_ZCLK_OE") {
	field(DTYP, "boAcqHost")
	field(OUT, "@/dev/gpio/CLK/ZCLK_OE")	
}
