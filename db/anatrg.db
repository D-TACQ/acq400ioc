
record(mbbo, "${UUT}:${SITE}:ANATRG:${CH}:M")	{
        field(DTYP, "Soft Channel")
	field(NOBT, "3")	
	field(ZRST, "none")
	field(ONST, "rising")
	field(TWST, "falling")
	field(THST, "inside")
	field(FRST, "outside")
	field(FLNK, "${UUT}:${SITE}:ANATRG:${CH}:l2en")
	field(DESC, "analog trigger mode")       	
}

record(calc, "${UUT}:${SITE}:ANATRG:${CH}:l2en") {
	field(INPA, "${UUT}:${SITE}:ANATRG:${CH}:M")
	field(CALC, "(A==3||A==4)")
	field(FLNK, "${UUT}:${SITE}:ANATRG:${CH}:w PP")
}

record(ao, "${UUT}:${SITE}:ANATRG:${CH}:L1") {
        field(DTYP, "Soft Channel")
	field(DRVH, "10")
	field(DRVL, "-10")
	field(HOPR, "10")
	field(LOPR, "-10")
	field(LINR, "LINEAR")
	field(ESLO, "0.0787")
	field(EOFF, "0")
	field(EGU,  "V")
	field(DESC, "analog trigger Level1")
	field(PINI, "YES")
	field(FLNK, "${UUT}:${SITE}:ANATRG:${CH}:w PP")
}

record(ao, "${UUT}:${SITE}:ANATRG:${CH}:L2") {	
        field(DTYP, "Soft Channel")
	field(DRVH, "10")
	field(DRVL, "-10")
	field(HOPR, "10")
	field(LOPR, "-10")
	field(LINR, "LINEAR")
	field(ESLO, "0.0787")
	field(EOFF, "0")
	field(EGU,  "V")
	field(SDIS, "${UUT}:${SITE}:ANATRG:${CH}:l2en")
	field(DISV, "0")		
	field(DESC, "analog trigger Level2")
	field(PINI, "YES")
	field(FLNK, "${UUT}:${SITE}:ANATRG:${CH}:w PP")
}

record(mbbo, "${UUT}:${SITE}:ANATRG:${CH}:H") {
        field(DTYP, "Soft Channel")
	field(NOBT, "3")
	field(ZRST, "0")
	field(ONST, "1")
	field(TWST, "2")
	field(THST, "5")
	field(FRST, "10")
	field(FVST, "20")
	field(ZRVL, "0")
	field(ONVL, "1")
	field(TWVL, "3")
	field(THVL, "6")
	field(FRVL, "13")
	field(FVVL, "25")
	field(DESC, "analog trigger hysterisis")
	field(PINI, "YES")
	field(VAL,  "1")
	field(FLNK, "${UUT}:${SITE}:ANATRG:${CH}:w PP")
}

record(bo, "${UUT}:${SITE}:ANATRG:LOCK" ){
        field(DTYP, "Soft Channel")
        field(ZNAM, "unlocked")
        field(ONAM, "locked")
}
record(bo, "${UUT}:${SITE}:ANATRG:${CH}:w") {
        field(DTYP, "stream")
        field(OUT,  "@anatrg.proto setAnaTrg(${UUT}:${SITE}:ANATRG:${CH},${CH}) ${SPORT}")
        field(DISV, "1")
        field(SDIS, "${UUT}:${SITE}:ANATRG:LOCK")
}


record(mbbiDirect, "${UUT}:${SITE}:ANATRG:SRC") {
	field(DTYP, "stream")
	field(INP,  "@anatrg.proto getAnaTrgSrc(${UUT}:${SITE}:ANATRG:SRC2) ${SPORT}")
	field(SCAN, ".2 second")
}

record(mbbiDirect, "${UUT}:${SITE}:ANATRG:SRC2") {
}

record(mbbiDirect, "${UUT}:${SITE}:ANATRG:GROUP_SRC") {
	field(DTYP, "stream")
	field(INP,  "@anatrg.proto getAnaTrgGroupStatus(${UUT}:${SITE}:ANATRG:GROUP_SRC2) ${SPORT}")
	field(SCAN, ".2 second")
}

record(mbbiDirect, "${UUT}:${SITE}:ANATRG:GROUP_SRC2") {
}

record(mbboDirect, "${UUT}:${SITE}:ANATRG:GROUP_MASK") {
	field(DTYP, "stream")
	field(OUT, "@anatrg.proto setAnaTrgGroupMask(${UUT}:${SITE}:ANATRG:GROUP_MASK2) ${SPORT}")	
}

record(mbboDirect, "${UUT}:${SITE}:ANATRG:GROUP_MASK2") {
	field(FLNK, "${UUT}:${SITE}:ANATRG:GROUP_MASK")
}

record(bo, "${UUT}:${SITE}:ANATRG:GROUP_MODE") {
	field(DTYP, "stream")
	field(OUT, "@anatrg.proto set_group_status_mode ${SPORT}")
	#            1234567890123456789012345678901234567890
	field(DESC, "CURRENT: trg if all members active NOW")
	field(ZNAM, "CURRENT")
	field(ONAM, "HISTORY")	
}

record(longout, "${UUT}:${SITE}:ANATRG:GROUP:FIRST_N") {
	field(DTYP, "stream")
	field(OUT, "@anatrg.proto set_group_first_n ${SPORT}")
	field(DESC, "group trg if N mmbr active (0=ALL)")
	field(DRVL, "0")
	field(DRVH, "32")
}

record(bo, "${UUT}:${SITE}:ANATRG:RESET") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "RESET ANATRG")
	field(DTYP, "stream")
	field(OUT,  "@anatrg.proto setATD_Reset ${S14}")
}

record(bo, "${UUT}:${SITE}:ANATRG:SPAD") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "Adds SPAD")
	field(DTYP, "stream")
	field(OUT,  "@anatrg.proto setAnaTrgSpad ${S14}")
}

record(mbbo, "${UUT}:${SITE}:ANATRG:SCALE") {
	field(DTYP, "stream")
	field(OUT,  "@anatrg.proto setAnaTrgScale ${S14}")
	field(NOBT, "2")
	field(ZRST, "1")
	field(ONST, "2")
	field(TWST, "4")
	field(THST, "8")
	field(ZRVL, "0")
	field(ONVL, "1")
	field(TWVL, "2")
	field(THVL, "3")
	field(DESC, "threshold scaling factor")
	field(PINI, "YES")
	field(VAL,  "0")	
}




