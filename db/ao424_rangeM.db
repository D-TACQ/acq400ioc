# AO424 range, init : Master : control only

record (mbbo, "${UUT}:${SITE}:RANGE:ALL") {	
	field(DTYP, "stream")
	field(OUT,  "@ao424.proto setRangeAll ${SPORT}")
	field(NOBT, "3")	
	field(ZRST, "UP5V")
	field(ONST, "UP10V")
	field(TWST, "5V")
	field(THST, "10V")
	field(FRST, "2V5")
	field(FVST, "-2V5/7V5")
	field(DISV, "1")
	field(SDIS, "${UUT}:${SITE}:FIXED_RANGE") 
#	field(PINI,  "3")
#	field(FLNK, "${UUT}:${SITE}:RANGE:COMMIT_ALL")
}

record (longout, "${UUT}:${SITE}:INITRAW:ALL") {
	field(DTYP, "stream")
	field(OUT,  "@ao424.proto setInitAll ${SPORT}")
}

record(bo, "${UUT}:${SITE}:RANGE:COMMIT") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "COMMIT settings")
	field(DTYP, "stream")
	field(OUT,  "@ao424.proto setCommit ${SPORT}")
	# save it for the end ..
	field(SDIS, "${UUT}:${SITE}:RANGE:ALL.PACT")
	field(DISV, "1")
}

#record(bo, "${UUT}:${SITE}:RANGE:COMMIT_ALL") {
#	field(DTYP, "stream")
#	field(OUT,  "@ao424.proto setCommit ${SPORT}")
#}


record(bi, "${UUT}:${SITE}:ODDS") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "ODD channels only")
	field(DTYP,  "stream")
	field(INP,   "@ao424.proto getOdds ${SPORT}")
	field(SCAN,  "1 second")
	field(FLNK,  "${UUT}:${SITE}:FIXED_RANGE")
}

record(calc, "${UUT}:${SITE}:FIXED_RANGE") {
	field(INPA, "${UUT}:${SITE}:AWG:ACTIVE")
	field(INPB, "${UUT}:${SITE}:ODDS")
	field(CALC, "A")
}