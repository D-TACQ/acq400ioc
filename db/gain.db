# ACQ420, ACQ425 gains

record (mbbo, "${UUT}:${SITE}:GAIN:${CH}")	{
	field(DTYP, "Soft Channel")
	field(NOBT, "2")	
	field(ZRST, "10V")
	field(ONST, "5V0")
	field(TWST, "2V5")
	field(THST, "1V2")        
	field(FLNK, "${UUT}:${SITE}:GAIN:${CH}:w PP")
}

record (mbbo, "${UUT}:${SITE}:GAIN:${CH}:w")	{
	field(DTYP, "mbboAcqHost")
	field(NOBT, "2")
	field(DISV, "1")
	field(SDIS, "${UUT}:${SITE}:GAIN:${CH}:s.PACT")
	field(OMSL, "closed_loop")
	field(DOL, "${UUT}:${SITE}:GAIN:${CH} PP")	
	field(OUT, "@${KNOB}")	
}

record (mbbi, "${UUT}:${SITE}:GAIN:${CH}:r") {
	field(DTYP, "mbbiAcqHost")
	field(NOBT, "2")
	field(INP,  "@${KNOB}")
	field(SCAN, "1 second")
	field(PINI, "YES")	
	field(FLNK, "${UUT}:${SITE}:GAIN:${CH}:s")
}

record (mbbo, "${UUT}:${SITE}:GAIN:${CH}:s") {
	field(DTYP, "Soft Channel")
	field(NOBT, "2")
	field(OMSL, "closed_loop")	
	field(DOL, "${UUT}:${SITE}:GAIN:${CH}:r NPP")	
	field(OUT, "${UUT}:${SITE}:GAIN:${CH} PP")
	field(FLNK, "${UUT}:${SITE}:GAIN:${CH}_f")
}

# force waveform record to rescale
record(calc, "${UUT}:${SITE}:GAIN:${CH}_f") {
	field(INPA, "${UUT}:${SITE}:GAIN:${CH}")
	field(CALC, "A==0? 10: A==1? 5: A==2? 2.5: 1.25")
}
record(aSub, "${UUT}:${SITE}:AI:WF:${CH}:V") {	
	field(INPC,  "${UUT}:${SITE}:GAIN:${CH}_f")
}
