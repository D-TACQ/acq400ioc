# cpsc2_dac_wf_n_sfp.db
# Created on: 4 Jan 2020
# Author: pgm


# readback diamond

record(bo, "${UUT}:2:CPSC_DAC_SRC:${DAC}") {
		field(DTYP, "Soft Channel")
		field(DESC, "Revolution Frequency Divider")
		field(ZNAM, "SFP")
		field(ONAM, "AWG")
		field(FLNK, "${UUT}:2:CPSC_DAC_SRC:${DAC}:w")
}

record(bo, "${UUT}:2:CPSC_DAC_SRC:${DAC}:w") {
		field(DTYP, "stream")
		field(OUT,  "@cpsc2.2.proto set_wf_n_sfp(${dac}) ${SPORT}")
		field(DISV, "1")
		field(SDIS, "${UUT}:2:CPSC_DAC_SRC:${DAC}:s.PACT")
		field(OMSL, "closed_loop")
		field(DOL, "${UUT}:2:CPSC_DAC_SRC:${DAC} PP")
}

record(bi, "${UUT}:2:CPSC_DAC_SRC:${DAC}:r") {
		field(DTYP, "stream")
		field(INP,  "@cpsc2.2.proto get_wf_n_sfp(${dac}) ${SPORT}")
		field(SCAN, "1 second")
		field(FLNK, "${UUT}:2:CPSC_DAC_SRC:${DAC}:s")
} 

record(bo, "${UUT}:2:CPSC_DAC_SRC:${DAC}:s") {
		field(DTYP, "Soft Channel")
		field(DOL,  "${UUT}:2:CPSC_DAC_SRC:${DAC}:r NPP")
		field(OMSL, "closed_loop")
		field(OUT,  "${UUT}:2:CPSC_DAC_SRC:${DAC} PP")
}



record (bo, "${UUT}:2:CPSC_DAC_PKT:TXEN") {
		field(DTYP, "boAcqHost")
		field(OUT,  "@cpsc2.proto set_pkt_tx_en() ${SPORT}")		
		field(ONAM, "ON")
		field(ZNAM, "OFF")
		field(PINI, "YES")
		field(VAL,  "0")	
}

