# waveform shows DDC output; AI:WF MUST be data32 type

record(waveform, "${UUT}:${SITE}:AI:WF:${cid}") {	

	field(FLNK,"${UUT}:${SITE}:AI:WF:${cid}:V")
}


record(bo, "${UUT}:${SITE}:AI:WF:${cid}:OVER") {
	field(DTYP, "Soft Channel")
	field(OMSL, "closed_loop")
	field(DOL, "${UUT}:${SITE}:AI:WF:${cid}:V.VALB")
	#field(OUT, "${UUT}:${SITE}:B8:${cid}")
	field(PINI, "YES")
	
}

record(longout, "${UUT}:${SITE}:AI:WF:${cid}:TH") {
	field(DTYP, "Soft Channel")
	field(VAL,  "512")
	field(PINI, "YES")
	field(DESC, "alarm threshold in bits")
}

# INPA : raw waveform
# INPB : maxcode bits
# INPC : vmax		: ALT: INPC=aslo, INPB=1
# INPD : alarm threshold
# INPO : aoff

record(aSub, "${UUT}:${SITE}:AI:WF:POLAR:${cid}") {	
	field(SNAM, "cart2pol")
	
	field(FTA,  "LONG")
	field(NOA,  "${size}")
	field(INPA, "${UUT}:${SITE}:AI:WF:${cid}")
	

	field(FTVA, "FLOAT")
	field(NOVA, "${size}")
	field(DESC, "complex WF in polar A=R B=T")
	
	field(FTVB, "FLOAT")
	field(NOVB, "${size}")
}



