# waveform shows DDC output; AI:WF MUST be data32 type

record(aSub, "${UUT}:${SITE}:AI:WF:${cid2}:V") {
	field(FLNK,"${UUT}:${SITE}:AI:WF:POLAR:${cid}")
}

#acq1001_083:1:AI:WF:04

# INPA : raw waveform
# INPB : maxcode bits
# INPC : vmax		: ALT: INPC=aslo, INPB=1
# INPD : alarm threshold
# INPO : aoff

record(aSub, "${UUT}:${SITE}:AI:WF:POLAR:${cid}") {	
	field(SNAM, "cart2pol")
	
	field(FTA,  "SHORT")
	field(NOA,  "${size}")
	field(INPA, "${UUT}:${SITE}:AI:WF:${rawi}")

	field(FTB,  "SHORT")
	field(NOB,  "${size}")
	field(INPB, "${UUT}:${SITE}:AI:WF:${rawq}")	

	field(FTVA, "FLOAT")
	field(NOVA, "${size}")
	field(DESC, "complex WF in polar A=R B=T")
	
	field(FTVB, "FLOAT")
	field(NOVB, "${size}")
	
	field(FLNK, "${UUT}:2:AI:WF:${cid}")
}

record(waveform, "${UUT}:2:AI:WF:${cid}") {
	field(DTYP, "Soft Channel")
	field(FTVL, "FLOAT")
	field(NELM, "${size}")
	field(INP,  "${UUT}:${SITE}:AI:WF:POLAR:${cid}.VALA")
	field(FLNK, "${UUT}:3:AI:WF:${cid}")
}

record(waveform, "${UUT}:3:AI:WF:${cid}") {
	field(DTYP, "Soft Channel")
	field(FTVL, "FLOAT")
	field(NELM, "${size}")
	field(INP,  "${UUT}:${SITE}:AI:WF:POLAR:${cid}.VALB")
	field(FLNK,  "${UUT}:${SITE}:AI:WF:PS:${cid}")
}

record(aSub, "${UUT}:${SITE}:AI:WF:PS:${cid}") {
	field(SNAM, "spectrum")
	
	field(FTA,  "SHORT")
	field(NOA,  "${size}")
	field(INPA, "${UUT}:${SITE}:AI:WF:${rawi}")

	field(FTB,  "SHORT")
	field(NOB,  "${size}")
	field(INPB, "${UUT}:${SITE}:AI:WF:${rawq}")	

	field(FTVA, "FLOAT")
	field(NOVA, "${size}")
	field(DESC, "complex PS in polar A=R B=T C=Window")
	
	field(FTVB, "FLOAT")
	field(NOVB, "${size}")
		
	field(FTVC,  "FLOAT")
	field(NOVC,  "${size}")	
	
	field(FLNK,  "${UUT}:4:AI:WF:${cid}")	
}

record(waveform, "${UUT}:4:AI:WF:${cid}") {
	field(DTYP, "Soft Channel")
	field(FTVL, "FLOAT")
	field(NELM, "${size}")
	field(INP,  "${UUT}:${SITE}:AI:WF:PS:${cid}.VALA")
	field(FLNK, "${UUT}:5:AI:WF:${cid}")
}

record(waveform, "${UUT}:5:AI:WF:${cid}") {
	field(DTYP, "Soft Channel")
	field(FTVL, "FLOAT")
	field(NELM, "${size}")
	field(INP,  "${UUT}:${SITE}:AI:WF:PS:${cid}.VALB")	
}
