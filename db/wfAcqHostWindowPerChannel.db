
# raw_to_volts WINDOW stats support

record(longout, "${UUT}:${SITE}:AI:WF:W1") {
	field(FLNK, "${UUT}:${SITE}:AI:WF:W1:fan1")
}
record(longout, "${UUT}:${SITE}:AI:WF:W2") {
	field(FLNK, "${UUT}:${SITE}:AI:WF:W2:fan1")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W1:fan1") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W1")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W1:fan2")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W1:fan2") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W1")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W1:fan3")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W1:fan3") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W1")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W1:fan4")
}
record(dfanout, "${UUT}:${SITE}:AI:WF:W1:fan4") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W1")
	field(OMSL, "closed_loop")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W2:fan1") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W2")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W2:fan2")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W2:fan2") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W2")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W2:fan3")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W2:fan3") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W2")
	field(OMSL, "closed_loop")
	field(FLNK, "${UUT}:${SITE}:AI:WF:W2:fan4")
}
record(dfanout, "${UUT}:${SITE}:AI:WF:W2:fan4") {
	field(DOL,  "${UUT}:${SITE}:AI:WF:W2")
	field(OMSL, "closed_loop")
}

record(longout, "${UUT}:${SITE}:AI:WF:${cid}:W1") {
	field(DTYP, "Soft Channel")
	field(DESC, "Stats window 1")
	field(DRVL, "0")
	field(DRVH, "${size}")
	field(VAL,  "0")
}
record(longout, "${UUT}:${SITE}:AI:WF:${cid}:W2") {
	field(DTYP, "Soft Channel")
	field(DESC, "Stats window 2")
	field(DRVL, "0")
	field(DRVH, "${size}")	
	field(VAL,  "0")
}

record(dfanout, "${UUT}:${SITE}:AI:WF:W1:${fan}") {
	field(${outx}, "${UUT}:${SITE}:AI:WF:${cid}:W1 PP")
}
record(dfanout, "${UUT}:${SITE}:AI:WF:W2:${fan}") {
	field(${outx}, "${UUT}:${SITE}:AI:WF:${cid}:W2 PP")
}


# INPA : raw waveform
# INPB : maxcode bits
# INPC : vmax		: ALT: INPC=aslo, INPB=1
# INPD : alarm threshold
# INPO : aoff


record(aSub, "${UUT}:${SITE}:AI:WF:${cid}:V") {	
	field(FTL,  "LONG")
	field(NOL,  "1")
	field(INPL, "${UUT}:${SITE}:AI:WF:${cid}:W1")

	field(FTM,  "LONG")
	field(NOM,  "1")
	field(INPM, "${UUT}:${SITE}:AI:WF:${cid}:W2")	
	

}



