# ao420fmc.db - DC set, gains, AWG gain and offset.
record(ao, "${UUT}:${SITE}:AO:SLOW_SET:CH:${cid}") {
        field(DTYP, "dsSysfsAo")
        field(OUT, "@/dev/acq400.${SITE}.knobs/AO_0${cid}")
        field(SCAN, "Passive")
        field(DESC, "Slow set AO${cid}")
        field(DRVL, "-2.5")
        field(DRVH, "+2.4999")
        field(LINR, "LINEAR")
        field(ESLO, "0.076293945e-3")
        field(HOPR, "2.4999")
        field(LOPR, "-2.5")
        field(EGU,  "V")
	
	field(SDIS, "${UUT}:${SITE}:AWG:DIST")
	field(DISV, "1")
}

record(bo, "${UUT}:${SITE}:AO:GAIN:CH:${cid}") {
	field(DTYP, "stream")
        field(OUT, "@ao420fmc.proto setRange(${cid}) ${SPORT}")
        field(SCAN, "Passive")
        field(DESC, "AO GAIN")
        field(ZNAM, "x1")
        field(ONAM, "x2")
}

record(bo, "${UUT}:${SITE}:AO:REF"){
	field(DTYP, "Soft Channel")
        field(DESC, "AO REF")
        field(ZNAM, "2.5V")
        field(ONAM, "5.0V")
	field(VAL,  "${REFV}")
	field(PINI, "YES")
	field(FLNK, "${UUT}:${SITE}:AO:REF:w")
}

record(bo, "${UUT}:${SITE}:AO:REF:w"){
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "")
	field(DTYP, "dsSysfsBo")
	field(OUT, "@/dev/acq400.${SITE}.knobs/dac_range_REF")
	field(DISV, "1")
	field(SDIS, "${UUT}:${SITE}:AO:REF:s.PACT")
	field(DOL,  "${UUT}:${SITE}:AO:REF PP")
	field(OMSL, "closed_loop")		
}

record(bi, "${UUT}:${SITE}:AO:REF:r") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "")
	field(DTYP, "dsSysfsBi")
	field(INP, "@/dev/acq400.${SITE}.knobs/dac_range_REF")
	field(SCAN, "5 second")
	field(FLNK, "${UUT}:${SITE}:AO:REF:s")
}

record(bo, "${UUT}:${SITE}:AO:REF:s") {
	field(ONAM, "ON")
	field(ZNAM, "OFF")
	field(DESC, "")
	field(DTYP, "Soft Channel")
	field(DOL,  "${UUT}:${SITE}:AO:REF:r NPP")
	field(OMSL, "closed_loop")
	field(OUT,  "${UUT}:${SITE}:AO:REF PP")
}

record(ao, "${UUT}:${SITE}:AWG:G:${cid}") {
	field(DTYP, "dsSysfsAo")
	field(OUT, "@/dev/acq400.${SITE}.knobs/G${cid}")
	field(SCAN, "Passive")
	field(DESC, "AWG GAIN adjust")
        field(DRVL, "0.000")
        field(DRVH, "99.997")
        field(LINR, "LINEAR")
# full scale: 32768        
        field(ESLO, "0.003051757")
	field(EOFF, "0")
        field(PINI, "YES")
        field(HOPR, "100.0")
        field(LOPR, "0.000")
        field(EGU,  "%")
        field(VAL,  "99.997")	
}

record(ao, "${UUT}:${SITE}:AWG:D:${cid}") {
	field(DTYP, "dsSysfsAo")
	field(OUT, "@/dev/acq400.${SITE}.knobs/D${cid}")
	field(SCAN, "Passive")
	field(DESC, "AWG DC adjust")
        field(DRVL, "-99.997")
        field(DRVH, "99.997")
        field(LINR, "LINEAR")
# full scale: 32767	
        field(ESLO, "0.003051851")
	field(EOFF, "0")
        field(HOPR, "100.0")
        field(LOPR, "-100.0")
        field(EGU,  "%")        
        field(PINI, "YES")        	
}

record(bo, "${UUT}:${SITE}:AWG:DIST") {
        field(DESC, "$placeholder")
        field(DTYP, "Soft Channel")
        field(ZNAM, "DC")
        field(ONAM, "AWG")
        field(VAL,  "0")
        field(PINI, "YES")      
}


